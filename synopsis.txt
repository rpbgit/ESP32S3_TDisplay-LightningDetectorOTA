
Uses the AS3935 Lightning detector chip, built into a Sparkfun/Adafruit/China module
	- SPI Comms
	- autonomous antenna tuning on every boot
	- uses receiver/detector to sense discharges at 500 khz.
	
Lilygo ESP32-S3 T-Display module.
 - ESP32-S3 Dual core 240mhz processors
 - Integral TFT 320-170 pixel color display
 - plastic case, easy access to GPIO pins, USB-C 
 
Simulation mode, can generate random lightning events for demo testing.

full metrics collected on events and real-time display of detector events on TFT.
 - available on both TFT and web page.
 
full serial port command line interface for setting/changing parameters
 - command line support on browser, same as serial port.
 
WiFi 2.4ghz
 - automatic connection/reconnect on faults. 
 
if out of sight, browser based Web page with graphing of rate metrics (watch activity pick up as storm approaches/retreat
 - audible alert of strikes
 - morse code command acknowledgement
 
non-volatile preferences storage to retain configuration settings on device that survives reboots/updates

Over the Air firmware updates via the WiFi
 - no need to be attached to serial port, can update firmware over WiFi from another room
 
GPIO pin to disable power/disconnect antennas if desired, with adjustable threshold
 - pushbutton on/off on module

pushbutton adjustable TFT display intensity

event logging available on the web page to a text file downloadable to your confuser.

probably a couple of other things i forgot... 

Supported commands - readily extensible.
07:12:48--> CMD> ?
07:12:50--> Command string        Description
07:12:50-->   AFE     ----- Analog Front end, R/W, Indoor 0x12, Outdoor (0x0E), default 0x12, REG0x00[5:1]
07:12:50-->   CALANT  ----- calibrates the antenna resonant frequency, about 2 seconds to complete
07:12:50-->   CALMODE ----- puts the LD code into calibration mode, to display the resonance frequency on the IRQ pin, event handling disabled
07:12:50-->   CALOSC  ----- calibrates the RCO oscillator
07:12:50-->   CSTATS  ----- Clears sensor (REG0x02, bit [6]), internal lightning strike accumulator. 
07:12:50-->   DIST    ----- Distance to storm est. in km, R/O, default 0, REG0x07, bit [5:0],
07:12:50-->   DIVRAT  ----- Reads/sets the Divisor Ratio Register, R/W, default 16, only 16,32,64,128 are valid, REG0x03, bit [7:6]
07:12:50-->   DOGGY   ----- Watchdog Threshold level, R/W, default 0x02, REG0x01, bits[3:0]
07:12:50-->   DUMP    ----- run all the command handlers with no parameter (dump and help excluded)
07:12:50-->   ENERGY  ----- lightning Energy 20 bits, R/O, a pure number - reg LSB REG0x04, bits[7:0],MSB REG0x05, bits[7:0],MMSB REG0x06, bits[4:0]
07:12:50-->   EVTDSBL ----- disables the lightning detector code from handling the IRQ pin, so we can see the raw signal
07:12:50-->   FACT    ----- Reset all registers to factory defaults, non-zero parameter to initiate, REG0x3C
07:12:50-->   INV     ----- bool value applied to the tft.invertdisplay(bool) method 
07:12:50-->   LOOPT   ----- retrieve/clear the max milliseconds it has taken to execute loop(), or clear with 0
07:12:50-->   MASK    ----- Disturber Mask on/off, R/W, bool value  REG0x03, bit [5]
07:12:50-->   NOISE   ----- Noise Floor Level, R/W, default: 0x02, REG0x01, bits [6:4]
07:12:50-->   REGTST  ----- performs a r/w register test of the sensor's tuning cap reg bits, useful to see if u are really talking to it
07:12:50-->   RESET   ----- ESP restart, in 3 seconds, non-zero param to initiate
07:12:50-->   SIM     ----- turns on simulated event generator - 0 = OFF, nonzero value = time in MS between event gen 
07:12:50-->   SPIKE   ----- Spike rejection filter, R/W, default 0x02, REG0x02, bits [3:0]
07:12:50-->   THRESH  ----- Lightning Threshold, R/W, number of strikes before int pin triggered, default 0x0 (One stroke), manpage 35, REG0x02, bits [5:4]
07:12:50-->   TUNECAP ----- Tuning Cap Register, R/W, 0-15 dec or 0x0-0x0e, each step is 8pf, max of 16 possible steps REG0x08[3:0]
07:12:50-->   STRTRH  ----- Strike Rate Threshold, strike rate/min that if exceeded will trigger power off in station mgmt, default 5
07:12:50-->   POWREQ  ----- Power Relay Request, R/W, 0 = OFF, non-zero = ON, toggles the power relay state
07:12:50-->   SAVEPREFS ----- Saves current AS3935 config to preferences if given a non-zero parameter; lists which settings changed.
07:12:50-->   ?       ----- print usage 
07:12:50--> 

Lilygo-T-Display with case and integral TFT
https://www.amazon.com/LILYGO-T-Display-S3-ESP32-S3-Display-Development/dp/B0D7CHY3LC/ref=sr_1_3?crid=1ZSKVRWYKS7F7&dib=eyJ2IjoiMSJ9.qsWNfTaLYwqWNfC6FCIVS65OL2-S6TzOofhwk6VbnuwQPYW7UdtmYPYYGTiH3cnN6ZRUEwS8C1fu_lXYjFrDYNz1dvRIn9wo8uFeXNTc8RQcW2YDWSCQZmfLrBJp5ANm9ai4X9-t1U2FNJGu1LaGUsxtq9rerFEYo9lGln_4Xm_-u7lFD9PXC4AMQCrZYjy_dnXDPLHFYmKbR7FFrChqCaYVcSezlDzE5CJVO_E9LHPPpXBrMyT9wrJcAnqgHdHqQlAmqD7AUt_CegQ4xoALXA0FBJ4xgUjq-F7JSrnT_fg.WOm6FwW_WZqDfhB8GsgkMVwQn_FP10L8gLa73WhLb64&dib_tag=se&keywords=ILYGO+T-Display-S3+ESP32-S3&qid=1753446959&s=electronics&sprefix=ilygo+t-display-s3+esp32-s3%2Celectronics%2C108&sr=1-3

detector module - many amazon sources... all are about the same
https://www.amazon.com/Lightning-Distances-Detection-Interfacing-Electronic/dp/B07SST5GDB/ref=sr_1_7_sspa?crid=31EXFV5O55KHQ&dib=eyJ2IjoiMSJ9.hdRmjThs8tUDVVN9rMk14ot0pnHCt9AxnnOmsmZerN2GglBq9NxMQdIIIOpLzJXpw2VXYEGFSfBIG_oRObw0Jpwgd1SqkXnJOOrd0BcPuXCgEpusxRtyWJmMiCHUxTH92CTuT7tm_U--2R9z9h9gV-s4vOgSnFqCzlAILICVIb0jKcvhbZCcTWmWDeSUGVJ01mowph95682cQHfyuq8fQjjuAjGuVw6_-0APaK1cIfg.yghuYYp5-jTr9EbJMUk4y2hfBESc4nIknodDCl3SwJE&dib_tag=se&keywords=AS3935+lightning+detector&qid=1753447056&sprefix=as3935+lightning+detector%2Caps%2C105&sr=8-7-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9tdGY&psc=1 


